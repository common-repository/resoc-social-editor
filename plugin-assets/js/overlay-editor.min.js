var rseInitOverlayEditor=function(e,t,a,n){var o,r,i,l=e.find(".rse-image-for-overlay-selection-button"),s=e.find(".rse-overlay-creation-button"),c=e.find(".rse-image-selected-panel");const d=React.createElement,m=e.find(".rse-overlay-editor")[0];ReactDOM.render(d(ResocSocialEditor.StandaloneOverlayEditor,{onCreated:function(e){o=e}}),m),l.on("click",function(e){if(e.preventDefault(),r)return void r.open();r=wp.media.frames.file_frame=wp.media({multiple:!1,library:{type:"image"}}),r.on("select",function(){attachment=r.state().get("selection").first().toJSON(),imageUrl=attachment.url,o.setImage(imageUrl),i=attachment.id,c.show(),l.removeClass("button-primary"),l.addClass("button-secondary")}),r.open()}),s.on("click",function(e){e.preventDefault();var r=JSON.stringify({image_id:i,image_settings:o.getImageEditionState()}),l={action:a,request:r};s.attr("disabled","disabled"),jQuery.ajax({type:"POST",data:l,dataType:"json",url:t,success:function(e){console.log("DONE",e),tb_remove(),s.removeAttr("disabled"),n&&n(e)},error:function(e,t,a){console.log("Cannot create overlay",e),s.removeAttr("disabled")}})}),console.log("Overlay editor initialized")};